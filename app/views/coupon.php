<?php include 'layouts/header.php'; ?>
<div class="page-container">
    <?php include 'layouts/merchant-sidebar.php'; ?>

    <main class="poc-content">

        <div class="poc-content-header">
            <h2>Regarding Payment for Merchant Borne Coupon</h2>
        </div>

        <p style="text-align:left; max-width:900px; margin:0;margin-left: 1rem;">
            External Organizations (not Pocket merchant) will be required to pay a fee before coupon approval.
            Internal and Pocket Merchants does not need to pay anything upfront, however do note that the
            coupon cost is still borned by merchant & will be deducted from the settlement.
        </p>

        <div class="void-grid">
            <div class="poc-step-box">
                <div class="step-number">1</div>
                <p>Log into the Pocket Merchant Portal and navigate to the <strong>‘Services’</strong> page.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/1.png" alt="Step 1 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">2</div>
                <p>Log into the Pocket Merchant Portal and navigate to the <strong>‘Services’</strong> page.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/2.png" alt="Step 2 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">3</div>
                <p>Coupon module functionality could be seen inside the <strong>‘Coupon’</strong> tab.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/3.png" alt="Step 3 image" class="void-image" />
                </div>
            </div>

        </div>

        <div class="poc-content-header">
            <h2>Coupon Creation</h2>
        </div>

        <div class="void-grid">
            <div class="poc-step-box">
                <div class="step-number">4</div>
                <p>To create a new coupon, click on <strong>‘+ Create New Coupon’</strong> button to start.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/4.png" alt="Step 4 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">5</div>
                <p>Fill in all the required fields.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/5.png" alt="Step 5 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">6</div>
                <p>Choose between dispensing <strong>cash coupon or discount coupon.</strong>
                    Please make sure to dispense <strong>whole number amount (No $10.50 or 5.5%).</strong></p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/6.png" alt="Step 6 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">7</div>
                <p>Coupon quantity may be set to be dispensed to <strong>limited or unlimited</strong> amount to customer.
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/7.png" alt="Step 7 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">8</div>
                <p>Fill in all the required fields.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/8.png" alt="Step 8 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">9</div>
                <p>Minimum purchase refers to the <strong>minimum amount of customer</strong> purchase for coupon to be applicable.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/9.png" alt="Step 9 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box" style="height: 200px;">
                <div class="step-number">10</div>
                <p>Maximum discount purchase refer to the <strong>maximum amount of customer purchase</strong> that coupon is applicable for.
                    Any purchase above this amount, coupon will not be applicable.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/10.png" alt="Step 10 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box" style="height: 200px;">
                <div class="step-number">11</div>
                <p>Dates for the coupon to be <strong>“active”.</strong> This <strong>does not mean</strong> the time customer receive that coupon,
                    only the time <strong>merchant is able to start dispensing</strong> coupon and the
                    <strong>time coupon will become unavailable to be dispensed.</strong>
                </p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/11.png" alt="Step 11 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box" style="height: 200px;">
                <div class="step-number">12</div>
                <p>Image to be uploaded as a display on the Pocket app.
                    If you choose not to upload any image, it will be shown as the default coupon imgae</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/12.png" alt="Step 12 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box" style="height: 200px;">
                <div class="step-number">13</div>
                <p>Choose between two validity types: <strong>Static</strong> or <strong>Dynamic.</strong></p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/13.png" alt="Step 13 image" class="void-image" />
                </div>
                <p><strong>Static</strong> validity meaning that the <strong>expiry of the coupon will be set to a static date and time.</strong></p>
            </div>

            <div class="poc-step-box">
                <div class="step-number">14</div>
                <p><strong>Dynamic</strong> validity means the expiry of the coupon will be set dynamically depending on <strong>how many days the coupon will be valid for.</strong></p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/14.png" alt="Step 14 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">15</div>
                <p>Pocket coupons are able to be used at various Pocket merchants.
                    Choose to allow the user to use the coupon at <strong>all Pocket merchants</strong> or only <strong>selected merchants.</strong></p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/15.png" alt="Step 15 image" class="void-image" />
                </div>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/16.png" alt="Step 16 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">17</div>
                <p>Lastly, confirm if the details set up above are correct information.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/17.png" alt="Step 17 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">18</div>
                <p>Once the coupon is <strong>created successfully</strong>, you will be shown the <strong>overview and preview</strong> of the <strong>coupon details..</strong></p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/18.png" alt="Step 18 image" class="void-image" />
                </div>
            </div>

            <div class="poc-step-box">
                <div class="step-number">19</div>
                <p><strong>Preview</strong> of the <strong>coupon details</strong> are shown on this area.</p>
                <div class="void-image-wrapper">
                    <img src="/PFD/public/images/coupon/afsa/19.png" alt="Step 19 image" class="void-image" />
                </div>
            </div>

        </div>





        <div class="poc-content-header">
            <h2>Cancelling Coupon</h2>
        </div>

        <div class="poc-step-box" style="width: 80%;">
            <div class="step-number">Note</div>
            <p>Cancellation of coupons <strong>can be done at any time</strong>.</p>
            <p>Once cancelled, <strong>this action is irreversible</strong>.</p>
            <p>You are <strong class="red">required to provide a reason</strong> for the cancellation.</p>
        </div>

        <div class="poc-grid">
            <div class="poc-step-box">
                <div class="step-number">1</div>
                <p><strong>Refund Eligibility</strong></p>
                <ul>
                    <li>Applies only to <strong>organizations (non-Pocket Merchants)</strong> that have <strong>paid the upfront fee</strong>.</li>
                    <li><strong>Registered Pocket Merchants</strong> are <strong>not eligible for refunds</strong> as there is <em>no upfront fee</em>.</li>
                </ul>
                <img src="/PFD/public/images/coupon/ccpn.png" alt="Cancelling Coupon" class="poc-image-small" onclick="openModal(this.src)">
            </div>
        </div>

        <div class="poc-content-header">
            <h2>Coupon Dispensing</h2>
        </div>

        <div class="poc-grid">
            <div class="poc-step-box">
                <div class="step-number">1</div>
                <p>Create a coupon. It will appear in the <strong>Pending</strong> status tab.</p>
                <img src="/PFD/public/images/coupon/pendingreview.png" alt="Pending Review" class="poc-image-small" onclick="openModal(this.src)">
                <p>The coupon will be <strong>reviewed by Pocket Admin</strong>. Once approved, it will move to the <strong>Active</strong> tab.</p>
            </div>

            <div class="poc-step-box">
                <div class="step-number">2</div>
                <p>Coupons can only be pushed <strong>once the distribution period starts</strong>.</p>
                <img src="/PFD/public/images/coupon/distributionperiod.png" alt="Distribution Period" class="poc-image-small" onclick="openModal(this.src)">
            </div>

            <div class="poc-step-box">
                <div class="step-number">3</div>
                <p>Once the distribution period starts, the <strong>"Action"</strong> button will change from a notice to a <strong>"Push"</strong> button.</p>
                <img src="/PFD/public/images/coupon/actiontab.png" alt="Action tab" class="poc-image-small" onclick="openModal(this.src)">
                <p>Clicking on it will redirect you to the <strong>Dispense Coupon</strong> page.</p>
                <img src="/PFD/public/images/coupon/redirect.png" alt="Redirect to Dispense Coupon" class="poc-image-small" onclick="openModal(this.src)">
            </div>

            <div class="poc-step-box">
                <div class="step-number">4</div>
                <p>Track coupon distribution:</p>
                <ul>
                    <li><strong>Initial quantity</strong> of coupons</li>
                    <li><strong>Number dispensed</strong></li>
                    <li><strong>Quantity remaining</strong></li>
                </ul>
                <img src="/PFD/public/images/coupon/quantity.png" alt="Quantity" class="poc-image-small" onclick="openModal(this.src)">
            </div>

            <div class="poc-step-box">
                <div class="step-number">5</div>
                <p>Dispensing methods:</p>
                <ul>
                    <li>Enter recipient <strong>phone number manually</strong></li>
                    <li>Upload a <strong>CSV file</strong></li>
                </ul>
                <img src="/PFD/public/images/coupon/manualorcsv.png" alt="Manual or CSV" class="poc-image-small" onclick="openModal(this.src)">
            </div>

            <div class="poc-step-box">
                <div class="step-number">6</div>
                <p><em>Optional:</em> Tick the checkbox if the coupon is <strong>reusable</strong>.</p>
                <img src="/PFD/public/images/coupon/checkbox.png" alt="Reusable Checkbox" class="poc-image-small" onclick="openModal(this.src)">
            </div>

            <div class="poc-step-box">
                <div class="step-number">7</div>
                <p><em>Note:</em> Only <strong>Pocket users</strong> can receive and redeem Pocket coupons.</p>
                <img src="/PFD/public/images/coupon/pocketusers.png" alt="Pocket Users Only" class="poc-image-small" onclick="openModal(this.src)">
                <p>Merchants are encouraged to onboard customers onto Pocket.</p>
            </div>

            <div class="poc-step-box">
                <div class="step-number">8</div>
                <p>When all coupons are dispensed and redeemed, they are moved to the <strong>Archive</strong> tab.</p>
                <img src="/PFD/public/images/coupon/archivedtab.png" alt="Archive Tab" class="poc-image-small" onclick="openModal(this.src)">
                <p>If coupons are <strong>unlimited</strong>, they'll be archived after the <strong>End Dispensing Date</strong>.</p>
            </div>
        </div>

        <!-- Image preview modal -->
        <div class="image-modal" id="imagePreviewModal">
            <span class="image-modal-close">&times;</span>
            <img class="image-modal-content" id="modalImage" />
        </div>

    </main>

    <?php include 'layouts/footer.php'; ?>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const modal = document.getElementById("imagePreviewModal");
            const modalImg = document.getElementById("modalImage");
            const closeBtn = document.querySelector(".image-modal-close");

            document.querySelectorAll("img").forEach(img => {
                img.style.cursor = "pointer"; // optional: show pointer on hover
                img.addEventListener("click", () => {
                    modal.classList.add("show");
                    modalImg.src = img.src;
                    modalImg.alt = img.alt;
                });
            });

            closeBtn.addEventListener("click", () => {
                modal.classList.remove("show");
            });

            modal.addEventListener("click", (e) => {
                if (e.target === modal) {
                    modal.classList.remove("show");
                }
            });
        });
    </script>